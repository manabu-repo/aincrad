<!-- eslint-disable no-undef -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Case</title>
</head>
<body>

</body>

<script type="module">
// 1.10
// import myCounter from './counter.js'

// myCounter += 1
// console.log(myCounter)

// 2.5
function gererateLists() {
  const list1 = []
  for (let i = 0; i < 100; i++)
    list1.push(i)

  console.log(list1)

  const list2 = new Array(100).map((val, index) => index)
  console.log(list2)

  const list3 = new Array(100).reduce((list, cur, index) => {
    return list.concat(index)
  }, [])
  console.log(list3)

  const list4 = Array.from(new Array(100), (val, index) => index)
  console.log(list4)
}

gererateLists()

const x = 5
console.log('二进制：', x.toString(2))

const Book = {
  price: 32,
}

const book = Object.create(Book)
book.type = 'Computer'

delete book.price
delete book.type

console.log(book.price)
console.log(book.type)

function Foo() {
  const bar = 100
  return function () {
    console.log(bar)
  }
}

const foo = Foo()
const bar = 200
foo()

// 2.4
function mySetTimeout() {
  // eslint-disable-next-line vars-on-top, no-var
  for (var i = 1; i <= 5; i++) {
    (function (j) {
      setTimeout(() => {
        console.log('settimeout', j)
      }, j * 1000)
    })(i)
  }
}
mySetTimeout()

// 3.8
function factorial(n) {
  if (n === 0)
    return 1

  return n * factorial(n - 1)
}

// 3.10
function promiseAll() {
  const takes = []
  const output = (i) => {
    // eslint-disable-next-line no-new
    new Promise((resolve, reject) => {
      setTimeout(() => {
        console.log('takes:', i)
        resolve()
      }, i * 1000)
    })
  }

  // eslint-disable-next-line vars-on-top, no-var
  for (var i = 0; i < 5; i++)
    takes.push(output(i))

  Promise.all(takes).then(() => {
    setTimeout(() => {
      // eslint-disable-next-line block-scoped-var
      console.log('takes all:', i)
    }, 1000)
  })
}
promiseAll()
</script>
</html>
